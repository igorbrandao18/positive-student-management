@model PositiveStudentManagement.Models.Student

@{
    ViewData["Title"] = "Delete Student";
}

<h2>Delete Student</h2>
<hr />

<div class="alert alert-warning">
    <h4>Are you sure you want to delete this student?</h4>
    <p>This action cannot be undone and all associated data will be lost.</p>
</div>

<div class="card">
    <div class="card-header">
        <h5 class="card-title mb-0">Student Information</h5>
    </div>
    <div class="card-body">
        <dl class="row">
            <dt class="col-sm-3">Student ID:</dt>
            <dd class="col-sm-9"><span class="badge bg-primary">@Model.StudentId</span></dd>
            
            <dt class="col-sm-3">Full Name:</dt>
            <dd class="col-sm-9">@Model.FullName</dd>
            
            <dt class="col-sm-3">Age:</dt>
            <dd class="col-sm-9"><span class="badge bg-info">@Model.Age years old</span></dd>
            
            <dt class="col-sm-3">Grade:</dt>
            <dd class="col-sm-9"><span class="badge bg-secondary">@Model.Grade</span></dd>
            
            <dt class="col-sm-3">Education Level:</dt>
            <dd class="col-sm-9">@Model.EducationLevel</dd>
            
            <dt class="col-sm-3">Address:</dt>
            <dd class="col-sm-9">@Model.Street, @Model.Number, ZIP @Model.ZipCode</dd>
        </dl>
    </div>
</div>

<form asp-action="Delete" method="post" class="mt-4">
    <input asp-for="Id" type="hidden" />
    <input asp-for="StudentId" type="hidden" />
    <input asp-for="FullName" type="hidden" />
    
    <button type="submit" class="btn btn-danger" onclick="return confirm('Are you absolutely sure you want to delete this student? This action cannot be undone.')">
        Yes, Delete Student
    </button>
    <a asp-action="Details" asp-route-id="@Model.Id" class="btn btn-outline-primary">View Details</a>
    <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-outline-secondary">Edit Instead</a>
    <a asp-action="Index" class="btn btn-secondary">Cancel</a>
</form>


<script>
document.addEventListener('DOMContentLoaded', function() {
    const deleteBtn = document.getElementById('delete-btn');
    const form = document.querySelector('.delete-form');
    
    deleteBtn.addEventListener('click', function(e) {
        e.preventDefault();
        
        if (confirm('Are you absolutely sure you want to delete this student? This action cannot be undone.')) {
            deleteBtn.innerHTML = '<span>‚è≥</span> Deleting...';
            deleteBtn.disabled = true;
            
            form.submit();
        }
    });
});
</script>
